file_format: "1.0-rc.1"

plugins/development:
  plugins:
    - Splunk.OpenTelemetry.AutoInstrumentation.Plugin, Splunk.OpenTelemetry.AutoInstrumentation

# baggage propagator is needed for snapshot tests
propagator:
  composite:
    baggage:

# tracer_provider or metric_provider is needed for profiler exports
tracer_provider:
  processors:
    - batch:
        exporter:
          otlp_http:

# resource detectors is needed for profiler tests
resource:
  detection/development:
    detectors:
      host:
      process:

# instrumentation settings is needed for snapshot tests
instrumentation/development:
  dotnet:
    traces:
      aspnetcore:

distribution:
  splunk:
    profiling:
      exporter:
        otlp_log_http:
          endpoint: ${SPLUNK_PROFILER_LOGS_ENDPOINT}
      snapshotting:
        sampling_interval: 30
